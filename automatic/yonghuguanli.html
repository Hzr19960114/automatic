<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/style2.css"/>
		<link rel="stylesheet" type="text/css" href="css/layui.css"/>
	</head>
	<style type="text/css">
		.row-zhan{
			float: left;
		}
		.main-right{
			width: 15%;
			height: 300px;
			margin-right: 10px;
		}
		.main{
			float: left;
		}
		.main-left{
			width:82%;
		}
		.main-right-s{
			height: 220%;
		}
	</style>
	<body class="gray-bg">
		<div>
			<div class="container-fluid">
			    <div class="row col-xs-12" style="padding:0px;">
					<!--树菜单-->
					<div class="main main-right col-xs-4">
						<div class="col-sm-4 search-collapse main-right-s">
                        	<span  style="font-size: 16px;padding-right: 70px;">
                        		组织机构
                        	</span>
                        	<span>
                        		<i class="fa fa-edit glyphicon glyphicon-edit"></i>
                        	</span>
                        	<span>
                        		<i class="fa fa-edit glyphicon glyphicon glyphicon-chevron-down"></i>
                        	</span>
                        	<span>
                        		<i class="fa fa-edit glyphicon glyphicon glyphicon-refresh"></i>
                        	</span>
							<div id="test1">
								
							</div>
						</div>
					</div>
					<div class="main main-left col-xs-8">
				        <div class="col-sm-8 search-collapse ">
				            <form id="formId">
				                <div class="select-list">
				                    <input id="treeId" name="moduleId" type="hidden" value=""/>
				                    <ul class="list-inline">
				                    	<li>
											登录名称：
				                            <input type="text" onclick="selectModuleTree()" id="treeName" readonly="true" value=""/>
				                        </li>
				                        <li>
											手机号码：
				                            <input type="text" onclick="selectModuleTree()" id="treeName" readonly="true" value=""/>
				                        </li>
				                        <li>
				                           	用户状态：
				                            <select id="projectId" name="projectId" onchange="initializeModuleTree()">
				                                <option value="">所有项目</option>
				                                <option value="2">流程测试项目</option>
				                                <option value="1">测试项目一</option>
				                            </select>
				                        </li>
				                        <li class="select-time">
											<label>创建时间： </label>
											<div class="layui-input-inline">
										        <input type="text" class="layui-input" id="test11" placeholder="yyyy年MM月dd日">
											<span>-</span>
										    </div>
											<div class="layui-input-inline">
										        <input type="text" class="layui-input" id="test12" placeholder="yyyy年MM月dd日">
										    </div>
										</li>
				                        <li>
				                            <a class="btn btn-primary btn-rounded btn-sm " onclick="$.table.search()"><i
				                                    class="fa fa-search glyphicon glyphicon-search"></i>&nbsp;搜索</a>
				                            <a class="btn btn-warning btn-rounded btn-sm" onclick="resetForm()"><i
				                                    class="fa fa-refresh glyphicon glyphicon-refresh"></i>&nbsp;重置</a>
				                        </li>
				                    </ul>
				                </div>
				            </form>
				        </div>
				        
				        <div class="col-sm-12 select-table table-striped">
				        	<div class="btn-group-sm hidden-xs" id="toolbar" role="group"  style="margin-top: 14px;">
				                <a class="btn btn-primary add" data-method="offset" data-type="auto">
				                    <i class="fa fa-plus glyphicon glyphicon-plus"></i> 新增
				                </a>
				                <a class="btn btn-primary btn-edit disabled" onclick="$.operate.edit()">
				                    <i class="fa fa-edit glyphicon glyphicon-edit"></i> 修改
				                </a>
				                <a class="btn btn-danger btn-del btn-del disabled" onclick="$.operate.removeAll()">
				                    <i class="fa fa-remove glyphicon glyphicon-remove"></i> 删除
				                </a>
				                <a class="btn btn-info btn-del " onclick="$.operate.removeAll()">
				                    <i class="fa fa-remove glyphicon glyphicon glyphicon glyphicon-download"></i> 导入
				                </a>
				                <a class="btn btn-warning btn-del " onclick="$.operate.removeAll()">
				                    <i class="fa fa-remove glyphicon glyphicon glyphicon-upload"></i> 导出
				                </a>
								<div class="columns columns-right btn-group pull-right">
					        		<button class="btn btn-default btn-outline" type="button" name="showSearch" title="搜索">
					        			<i class="glyphicon glyphicon-search"></i>
					        		</button>
					        		<button class="btn btn-default btn-outline" type="button" name="refresh" title="刷新">
					        			<i class="glyphicon glyphicon-refresh icon-refresh"></i>
					        		</button>
					        		<button class="btn btn-default btn-outline" type="button" name="toggle" title="切换">
					        			<i class="glyphicon glyphicon-list-alt icon-list-alt"></i>
					        		</button>
				        		</div>
				        	</div>
				        	<!--<div class="layui-btn-group demoTable">
							  <button class="layui-btn" data-type="getCheckData">获取选中行数据</button>
							  <button class="layui-btn" data-type="getCheckLength">获取选中数目</button>
							  <button class="layui-btn" data-type="isAll">验证是否全选</button>
							</div>-->
					        <table class="layui-hide" id="test" lay-filter="demo">
		        	
		        			</table>
		        			<!--新增框-->
		        			<div class="layui-row" id="popUpdateTest" style="display: none;">
		        				<div class="layui-col-md10">
		        					<form class="form-horizontal m" id="form-user-add" novalidate="novalidate">
									<input name="deptId" type="hidden" id="treeId">
									<div class="form-group">
										<label class="col-sm-3 control-label ">登录名称：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" id="loginName" name="loginName">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">部门名称：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" name="deptName" onclick="selectDeptTree()" readonly="true" id="treeName">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">用户名称：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" name="userName" id="userName">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">密码：</label>
										<div class="col-sm-8">
											<input class="form-control" type="password" name="password" id="password" value="123456">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">邮箱：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" name="email" id="email">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">手机：</label>
										<div class="col-sm-8">
											<input class="form-control" type="text" name="phonenumber" id="phonenumber">
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">性别：</label>
										<div class="col-sm-8">
											<select id="sex" class="form-control m-b select2-hidden-accessible" tabindex="-1" aria-hidden="true">
							                    <option value="0">男</option>
							                    <option value="1">女</option>
							                    <option value="2">未知</option>
							                </select><span class="select2 select2-container select2-container--default" dir="ltr" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-sex-container"><span class="select2-selection__rendered" id="select2-sex-container" title="男">男</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">状态：</label>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">岗位：</label>
										<div class="col-sm-8">
											<select id="sex" class="form-control m-b select2-hidden-accessible" tabindex="-1" aria-hidden="true">
												<option value="1">项目经理</option>
												<option value="2">开发工程师</option>
												<option value="3">测试经理</option>
												<option value="4">测试工程师</option>
											</select><span class="select2 select2-container select2-container--default" dir="ltr" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-sex-container"><span class="select2-selection__rendered" id="select2-sex-container" title="男">男</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
										</div>
									</div>
									<div class="form-group">	
										<label class="col-sm-3 control-label">默认项目：</label>
										<div class="col-sm-8">
											<select id="projectId" name="projectId" class="form-control m-b select2-hidden-accessible" tabindex="-1" aria-hidden="true">
											    <option value="1">所有项目</option>
							                    <option value="2">流程测试项目</option>
							                    <option value="3">测试项目一</option>
							                </select><span class="select2 select2-container select2-container--default" dir="ltr" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-projectId-container"><span class="select2-selection__rendered" id="select2-projectId-container" title="所有项目">所有项目</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">角色：</label>
										<div class="col-sm-8">
											<label class="check-box">
												<div class="icheckbox-blue"><input name="role" type="checkbox" value="1" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>管理员
											</label><label class="check-box">
												<div class="icheckbox-blue"><input name="role" type="checkbox" value="2" style="position: absolute; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>普通角色
											</label>
										</div>
									</div>
								</form>
		        				</div>
		        			</div>
				        </div>
			        </div>
			    </div>
			</div>
		</div>
	<script type="text/html" id="switchTpl">
	  <!-- 这里的 checked 的状态只是演示 -->
	  <input type="checkbox" name="sex" value="{{d.id}}" lay-skin="switch" lay-text="女|男" lay-filter="sexDemo" {{ d.id == 10003 ? 'checked' : '' }}>
	</script>
	<script type="text/html" id="barDemo">
	  <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">编辑</a>
	  <a class="layui-btn layui-btn-xs" lay-event="edit">新增</a>
	  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
	</script>
	<script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/layui.js" type="text/javascript" charset="utf-8"></script>
	<script>
		layui.use('tree', function(){
		    var tree = layui.tree;
		    //渲染
		    var inst1 = tree.render({
		      elem: '#test1'  //绑定元素
		      ,data: [{
		        title: 'LF总公司' //一级菜单s
		        ,children: [{
		          title: '深圳分公司' //二级菜单
		          ,children: [{
		            title: '研发部门' //三级菜单
		          },{
		            title: '测试部门' //三级菜单
		          },{
		            title: '运维部门' //三级菜单
		          }]
		        }]
		      },{
		        title: '长沙分公司' //一级菜单
		        ,children: [{
		          title: '测试部门' //二级菜单
		        },{
		          title: '研发部门' //二级菜单
		        }]
		      }]
		    });
		  });
		
		layui.use('laydate', function(){
			var laydate = layui.laydate;
			laydate.render({
			    elem: '#test11'
			    ,format: 'yyyy年MM月dd日'
			});
			laydate.render({
			    elem: '#test12'
			    ,format: 'yyyy年MM月dd日'
			});
		});
		layui.use('table', function(){
		  var table = layui.table;
		  
		  //《工具栏》
		  //监听工具条
		  table.on('tool(demo)', function(obj){
		    var data = obj.data;
		    if(obj.event === 'detail'){
		      layer.msg('id：'+ data.id + ' 的查看操作');
		    } else if(obj.event === 'del'){
		      layer.confirm('真的删除行么', function(index){
		        obj.del();
		        layer.close(index);
		      });
		    } else if(obj.event === 'edit'){
		      layer.alert('编辑行：<br>'+ JSON.stringify(data))
		    }
		  });
		  
		   var $ = layui.$, active = {
		    getCheckData: function(){ //获取选中数据
		      var checkStatus = table.checkStatus('test')
		      ,data = checkStatus.data;
		      layer.alert(JSON.stringify(data));
		    }
		    ,getCheckLength: function(){ //获取选中数目
		      var checkStatus = table.checkStatus('test')
		      ,data = checkStatus.data;
		      layer.msg('选中了：'+ data.length + ' 个');
		    }
		    ,isAll: function(){ //验证是否全选
		      var checkStatus = table.checkStatus('test');
		      layer.msg(checkStatus.isAll ? '全选': '未全选')
		    }
		  };
		    $('.demoTable .layui-btn').on('click', function(){
			    var type = $(this).data('type');
			    active[type] ? active[type].call(this) : '';
			  });
		  //《/工具栏》
		  
		  table.render({
		    elem: '#test'
		    /*,url:'/demo/table/user/'*/
		    ,cols: [[
		      {type:'checkbox'}
		      ,{field:'id', title: '部门名称', sort: true}
		      ,{field:'username', title: '排序', sort: true}
		      ,{field:'sex', title: '状态', sort: true}
		      ,{field:'city', title: '创建时间', sort: true}
		      ,{field:'sign', title: '操作', toolbar: '#barDemo'}
		    ]]
		    ,data:[
		    	{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    	,{"id":"1",'username':"lzz",'sex':"男",'city':"2002-02-02"}
		    ]
		    ,page: true
		  });
		});
		layui.use('layer', function(){ //独立版的layer无需执行这一句
			var active = {
				offset: function(othis){
      				var type = othis.data('type');
	      			layer.open({
	      				title:['添加用户','color:#333333;background-color:#f8f8f8;'], 
						type: 1
						,area: ['800px', '676px']
				        ,shade: 0
				        ,maxmin: true
				        ,offset: type //具体配置参考：http://www.layui.com/doc/modules/layer.html#offset
				        ,id: 'layerDemo'+type //防止重复弹
				        ,content:$("#popUpdateTest").html()
				        ,btn: ['确定','取消']
				        ,btnAlign: 'r' //按钮居中
				        ,shade: 0 //不显示遮罩
				        ,yes: function(){
				          layer.closeAll();
				        }
	      			});
    			}
			}
			$('.add').on('click', function(){
			    var othis = $(this), method = othis.data('method');
			    active[method] ? active[method].call(this, othis) : '';
			});
  		});
  		
  		
  		$(function(){
  			$("[name=showSearch]").click(function(){
  				$(".search-collapse").slideToggle();
  			});
  			$("[name=refresh]").click(function(){
  				location.reload();
  			});
  		});
	</script>
	</body>
</html>
